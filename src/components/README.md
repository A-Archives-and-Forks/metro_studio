# components 目录说明

该目录存放 UI 组件，负责交互与渲染：

- `ToolbarControls.vue`
  - 工程管理器（新建、重命名、复制、删除、保存、加载、本地工程检索）
  - OSM 导入参数控制（在建/规划）
  - 编辑模式切换（选择/点站/拉线）
  - 站点重命名（单站）与多选模板批量重命名（`{n}` 序号占位）
  - 线路编辑（颜色/状态/线型/环线标记）
  - 线段编辑（选中信息与删除）
  - 多选站点统计、全选、批量删除
  - 编辑快捷键提示（Delete/Ctrl+A/Esc）
  - 自动排版触发
  - 导出实际走向图 PNG、官方风格图 PNG、车辆 HUD ZIP 打包
  - 导出栏车站显示下拉：仅作用于实际走向图（仅换乘站 / 隐藏所有车站 / 显示所有车站）
- `MapEditor.vue`
  - 基于 MapLibre 的真实地图编辑器
  - 站点点击、拖拽、加点、连线
  - Shift/Ctrl/⌘ 框选与多选站点（支持批量拖动）
  - 线段点击选中与高亮
  - 右键菜单（模式、站点/线段、线路、工程、导出等全功能快捷入口）
  - 地图视角锁定正北（禁用旋转与俯仰），避免 Ctrl+拖拽与框选冲突
  - 实际走向图 PNG 导出会自动定位到全网范围并隐藏站名后导出；支持按导出设置筛选车站显示（仅换乘站/隐藏全部/显示全部）；完成后恢复当前视角。启用绘制缓冲保留、内容检测与重试；底图帧不可读时自动回退仅线路层导出
  - 比例尺控件（米/公里）
  - 键盘快捷键：删除选中、全选站点、清空选择
  - 渲染线路与站点图层（支持线型：实线/虚线/点线）
- `SchematicView.vue`
  - 渲染自动排版后的官方风示意图
  - 地理主导示意图渲染（保持地理骨架 + 八方向规整）
  - 使用共享渲染模型，输出多状态/多线型线网视觉（无图例、无区名装饰、无标题文字）
  - 支持滚轮缩放与中键平移浏览
  - 画布自适应容器铺满显示
  - 展示评分与快照信息
- `VehicleHudView.vue`
  - 车辆 HUD 视图（按线路 + 方向自动生成）
  - 自动计算线路主路径顺序与方向候选
  - 自动渲染换乘标识与段间方向箭头（接近车载屏样式）
  - HUD 站点不再绘制终点红色外圈，仅保留线路圆环与换乘标识
  - 换乘区文字与线路牌矩形放大显示，三角标使用倒三角并跟随首个换乘线路颜色
  - 长线路按约 15 站自动单弯折返，未折返时保持固定长度
  - 支持滚轮缩放与中键平移浏览
